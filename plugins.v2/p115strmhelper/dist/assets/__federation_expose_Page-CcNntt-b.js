import{importShared as e}from"./__federation_fn_import-B6DyUTOO.js";import{_ as l}from"./_plugin-vue_export-helper-BCo6x5W8.js";const{resolveComponent:a,createVNode:t,createElementVNode:i,withCtx:s,toDisplayString:n,createTextVNode:o,openBlock:r,createBlock:c,createCommentVNode:d,createElementBlock:u,renderList:m,Fragment:f,normalizeClass:p,withKeys:_}=await e("vue"),g={class:"plugin-page"},y={key:3,class:"my-1"},h={key:1},x={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},b=["title"],v={class:"text-caption",style:{"line-height":"1.2"}},C=["title"],k={class:"text-caption",style:{"line-height":"1.2"}},w={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},z=["title"],P={class:"text-caption",style:{"line-height":"1.2"}},V=["title"],$={class:"text-caption",style:{"line-height":"1.2"}},L={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},E=["title"],M={class:"text-caption",style:{"line-height":"1.2"}},I=["title"],j={class:"text-caption",style:{"line-height":"1.2"}},B={class:"path-mapping-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},U=["title"],O={class:"text-caption",style:{"line-height":"1.2"}},S=["title"],T={class:"text-caption",style:{"line-height":"1.2"}},N={class:"path-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},A={class:"d-flex align-center"},R=["title"],H={class:"text-caption",style:{"line-height":"1.2"}},W={class:"path-group-item pa-2 border rounded-sm",style:{"background-color":"rgba(var(--v-theme-on-surface), 0.02)"}},F=["title"],K={class:"text-caption",style:{"line-height":"1.2"}},q=["title"],D={class:"text-caption",style:{"line-height":"1.2"}},G={key:0,class:"mt-1 pt-1",style:{"border-top":"1px dashed rgba(var(--v-border-color), 0.2)"}},Z={key:0,class:"d-flex align-center"},J=["title"],Q={class:"text-caption",style:{"line-height":"1.2"}},X={class:"d-flex"},Y={class:"text-body-2"},ee={class:"d-flex"},le={class:"text-body-2"},ae={class:"d-flex align-center"},te={key:0,class:"d-flex justify-center my-3"},ie={key:1},{ref:se,reactive:ne,computed:oe,onMounted:re,watch:ce}=await e("vue"),de=l({__name:"Page",props:{api:{type:[Object,Function],required:!0},initialConfig:{type:Object,default:()=>({})}},emits:["close","switch","update:config","action"],setup(e,{emit:l}){const de=e,ue=l,me=se(!0),fe=se(!1),pe=se(!1),_e=se(!1),ge=se(!1),ye=se(null),he=se(null),xe=se("info"),be=se(!1),ve=ne({enabled:!1,has_client:!1,running:!1}),Ce=ne({name:null,is_vip:null,is_forever_vip:null,vip_expire_date:null,avatar:null,error:null,loading:!0}),ke=ne({total:null,used:null,remaining:null,error:null,loading:!0}),we=(e,l)=>{if(!e||!l)return 0;const a=e=>{if(!e||"string"!=typeof e)return 0;const l=parseFloat(e);return isNaN(l)?0:e.toUpperCase().includes("TB")?1024*l*1024:e.toUpperCase().includes("GB")?1024*l:(e.toUpperCase().includes("MB"),l)},t=a(e),i=a(l);return 0===i?0:Math.min(Math.max(t/i*100,0),100)},ze=oe(()=>{if(!de.initialConfig)return!1;if(!(de.initialConfig.enabled&&de.initialConfig.cookies&&de.initialConfig.moviepilot_address))return!1;const e=Pe(de.initialConfig.transfer_monitor_paths)>0&&de.initialConfig.transfer_monitor_enabled,l=Pe(de.initialConfig.full_sync_strm_paths)>0&&de.initialConfig.timing_full_sync_strm,a=Pe(de.initialConfig.increment_sync_strm_paths)>0&&de.initialConfig.increment_sync_strm_enabled,t=Pe(de.initialConfig.monitor_life_paths)>0&&de.initialConfig.monitor_life_enabled,i=de.initialConfig.user_share_local_path&&de.initialConfig.user_share_pan_path;return e||l||a||t||i}),Pe=e=>{if(!e)return 0;try{return e.split("\n").filter(e=>e.trim()&&e.includes("#")).length}catch(l){return console.error("解析路径字符串失败:",l),0}},Ve=e=>{if(!e)return 0;try{return e.split("\n").filter(e=>e.trim()).length}catch(l){return console.error("解析网盘整理路径字符串失败:",l),0}},$e=async()=>{me.value=!0,ye.value=null;try{const l="P115StrmHelper",a=await de.api.get(`plugin/${l}/get_status`);if(!a||0!==a.code||!a.data){if(de.initialConfig){if(ve.enabled=Boolean(de.initialConfig.enabled),ve.has_client=Boolean(de.initialConfig.cookies&&""!==de.initialConfig.cookies.trim()),ve.running=!1,ge.value=!0,Object.keys(de.initialConfig).length<=1)try{const e=await de.api.get(`plugin/${l}/get_config`);e&&(Object.assign(de.initialConfig,e),console.log("从配置API获取配置:",de.initialConfig))}catch(e){console.error("获取配置失败:",e)}throw new Error("状态API调用失败，使用配置数据显示状态")}throw new Error(a?.msg||"获取状态失败，请检查网络连接")}ve.enabled=Boolean(a.data.enabled),ve.has_client=Boolean(a.data.has_client),ve.running=Boolean(a.data.running);try{const e=await de.api.get(`plugin/${l}/get_config`);e&&(Object.assign(de.initialConfig,e),console.log("已获取最新配置:",de.initialConfig))}catch(e){console.error("获取配置失败:",e)}ge.value=!0}catch(l){l.message.includes("使用配置数据显示状态")||(ye.value=`获取状态失败: ${l.message||"未知错误"}`),console.error("获取状态失败:",l)}finally{me.value=!1}},Le=async()=>{fe.value=!0,await $e(),ve.has_client&&de.initialConfig?.cookies?await We():(Ce.loading=!1,ke.loading=!1,de.initialConfig?.cookies?ve.has_client||(Ce.error="115客户端未连接或Cookie无效。",ke.error="115客户端未连接或Cookie无效。"):(Ce.error="请先配置115 Cookie。",ke.error="请先配置115 Cookie。")),fe.value=!1,he.value="状态已刷新",xe.value="success",setTimeout(()=>{he.value=null},3e3)},Ee=async()=>{pe.value=!0,be.value=!0,ye.value=null,he.value=null;try{if(!ve.enabled)throw new Error("插件未启用，请先在配置页面启用插件");if(!ve.has_client)throw new Error("插件未配置Cookie或Cookie无效，请先在配置页面设置115 Cookie");if(0===Pe(de.initialConfig?.full_sync_strm_paths))throw new Error("未配置全量同步路径，请先在配置页面设置同步路径");const e="P115StrmHelper",l=await de.api.post(`plugin/${e}/full_sync`);if(!l||0!==l.code)throw new Error(l?.msg||"启动全量同步失败");he.value=l.msg||"全量同步任务已启动",xe.value="success",await $e()}catch(e){ye.value=`启动全量同步失败: ${e.message||"未知错误"}`,console.error("启动全量同步失败:",e)}finally{pe.value=!1,be.value=!1}},Me=ne({show:!1,error:null,shareLink:"",shareCode:"",receiveCode:"",panPath:"/",localPath:"",downloadMediaInfo:!1}),Ie=oe(()=>!!Me.localPath&&(!(!Me.shareLink&&!Me.shareCode)&&!(Me.shareCode&&!Me.receiveCode))),je=ne({show:!1,isLocal:!0,loading:!1,error:null,currentPath:"/",items:[],selectedPath:"",callback:null}),Be=()=>{Me.show=!0,Me.error=null,de.initialConfig&&(Me.shareLink=de.initialConfig.user_share_link||"",Me.shareCode=de.initialConfig.user_share_code||"",Me.receiveCode=de.initialConfig.user_receive_code||"",Me.panPath=de.initialConfig.user_share_pan_path||"/",Me.localPath=de.initialConfig.user_share_local_path||"",Me.downloadMediaInfo=de.initialConfig.share_strm_auto_download_mediainfo_enabled||!1)},Ue=()=>{Me.show=!1},Oe=async()=>{je.loading=!0,je.error=null,je.items=[];try{if(je.isLocal)try{const e=await de.api.post("storage/list",{path:je.currentPath||"/",type:"share",flag:"ROOT"});if(!e||!Array.isArray(e))throw new Error("浏览目录失败：无效响应");je.items=e.filter(e=>"dir"===e.type).map(e=>({name:e.name,path:e.path,is_dir:!0})).sort((e,l)=>e.name.localeCompare(l.name,void 0,{numeric:!0,sensitivity:"base"}))}catch(ye){console.error("浏览本地目录失败:",ye),je.error=`浏览本地目录失败: ${ye.message||"未知错误"}`,je.items=[]}else{const e="P115StrmHelper";if(!de.initialConfig?.cookies||""===de.initialConfig?.cookies.trim())throw new Error("请先设置115 Cookie才能浏览网盘目录");const l=await de.api.get(`plugin/${e}/browse_dir?path=${encodeURIComponent(je.currentPath)}&is_local=${je.isLocal}`);if(!l||0!==l.code||!l.items)throw new Error(l?.msg||"获取网盘目录内容失败");je.items=l.items.filter(e=>e.is_dir),je.currentPath=l.path||je.currentPath}}catch(ye){console.error("加载目录内容失败:",ye),je.error=ye.message||"获取目录内容失败",(ye.message.includes("Cookie")||ye.message.includes("cookie"))&&(je.items=[])}finally{je.loading=!1}},Se=()=>{const e=je.currentPath;if(!je.isLocal){if("/"===e)return;let l=e.replace(/\\/g,"/");l.length>1&&l.endsWith("/")&&(l=l.slice(0,-1));const a=l.substring(0,l.lastIndexOf("/"));return je.currentPath=""===a?"/":a,void Oe()}if("/"===e||"C:\\"===e||"C:/"===e)return;const l=e.replace(/\\/g,"/"),a=l.split("/").filter(Boolean);0===a.length?je.currentPath="/":1===a.length&&l.includes(":")?je.currentPath=a[0]+":/":(a.pop(),je.currentPath=0===a.length?"/":(l.startsWith("/")?"/":"")+a.join("/")+"/"),Oe()},Te=()=>{if(!je.currentPath)return;let e=je.currentPath;"/"===e||/^[a-zA-Z]:[\\\/]$/.test(e)||!e.endsWith("/")&&!e.endsWith("\\\\")||(e=e.slice(0,-1)),"function"==typeof je.callback&&je.callback(e),Ne()},Ne=()=>{je.show=!1,je.items=[],je.error=null},Ae=async()=>{_e.value=!0,Me.error=null;try{if(!Me.localPath)throw new Error("请先设置本地生成STRM路径");if(!Me.shareLink&&!Me.shareCode)throw new Error("请输入115网盘分享链接或分享码");if(Me.shareCode&&!Me.receiveCode)throw new Error("使用分享码时必须输入分享密码");const e="P115StrmHelper";de.initialConfig&&(de.initialConfig.user_share_link=Me.shareLink,de.initialConfig.user_share_code=Me.shareCode,de.initialConfig.user_receive_code=Me.receiveCode,de.initialConfig.user_share_pan_path=Me.panPath,de.initialConfig.user_share_local_path=Me.localPath,de.initialConfig.share_strm_auto_download_mediainfo_enabled=Me.downloadMediaInfo,await de.api.post(`plugin/${e}/save_config`,de.initialConfig));const l=await de.api.post(`plugin/${e}/share_sync`);if(!l||0!==l.code)throw new Error(l?.msg||"启动分享同步失败");he.value=l.msg||"分享同步任务已启动",xe.value="success",await $e(),Ue()}catch(e){Me.error=`启动分享同步失败: ${e.message||"未知错误"}`,console.error("启动分享同步失败:",e)}finally{_e.value=!1}},Re=e=>{if(!e)return[];try{return e.split("\n").filter(e=>e.trim()&&e.includes("#")).map(e=>{const l=e.split("#");return{local:l[0]||"",remote:l[1]||""}})}catch(l){return console.error("解析路径字符串失败:",l),[]}},He=e=>{if(!e)return[];try{return e.split("\n").filter(e=>e.trim()).map(e=>({path:e}))}catch(l){return console.error("解析网盘整理路径字符串失败:",l),[]}};async function We(){Ce.loading=!0,Ce.error=null,ke.loading=!0,ke.error=null;try{const e="P115StrmHelper",l=await de.api.get(`plugin/${e}/user_storage_status`);if(l&&l.success)l.user_info?Object.assign(Ce,l.user_info):Ce.error="未能获取有效的用户信息。",l.storage_info?Object.assign(ke,l.storage_info):ke.error="未能获取有效的存储空间信息。";else{const e=l?.error_message||"获取用户和存储信息失败。";Ce.error=e,ke.error=e,(e.includes("Cookie")||e.includes("未配置"))&&(ve.has_client=!1)}}catch(e){console.error("获取用户/存储状态失败:",e);const l=`请求用户/存储状态时出错: ${e.message||"未知网络错误"}`;Ce.error=l,ke.error=l}finally{Ce.loading=!1,ke.loading=!1}}return ce(()=>de.initialConfig,e=>{e&&(ve.enabled=e.enabled||!1,ve.has_client=Boolean(e.cookies&&""!==e.cookies.trim()))},{immediate:!0}),re(async()=>{await $e(),ve.has_client&&de.initialConfig?.cookies?await We():(Ce.loading=!1,ke.loading=!1,de.initialConfig?.cookies?ve.has_client||(Ce.error="115客户端未连接或Cookie无效。",ke.error="115客户端未连接或Cookie无效。"):(Ce.error="请先配置115 Cookie。",ke.error="请先配置115 Cookie。"))}),(l,se)=>{const ne=a("v-icon"),oe=a("v-card-title"),re=a("v-alert"),ce=a("v-skeleton-loader"),de=a("v-list-item-title"),$e=a("v-chip"),We=a("v-list-item"),Fe=a("v-divider"),Ke=a("v-list"),qe=a("v-card-text"),De=a("v-card"),Ge=a("v-img"),Ze=a("v-avatar"),Je=a("v-list-item-subtitle"),Qe=a("v-progress-linear"),Xe=a("v-col"),Ye=a("v-row"),el=a("v-btn"),ll=a("v-card-actions"),al=a("v-text-field"),tl=a("v-switch"),il=a("v-spacer"),sl=a("v-dialog"),nl=a("v-progress-circular");return r(),u(f,null,[i("div",g,[t(De,{flat:"",class:"rounded border",style:{display:"flex","flex-direction":"column","max-height":"85vh"}},{default:s(()=>[t(oe,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(ne,{icon:"mdi-file-link",class:"mr-2",color:"primary",size:"small"}),se[14]||(se[14]=i("span",null,"115网盘STRM助手",-1))]),_:1}),t(qe,{class:"px-3 py-1",style:{"flex-grow":"1","overflow-y":"auto","padding-bottom":"48px"}},{default:s(()=>[ye.value?(r(),c(re,{key:0,type:"error",density:"compact",class:"mb-2",variant:"tonal",closable:""},{default:s(()=>[o(n(ye.value),1)]),_:1})):d("",!0),he.value?(r(),c(re,{key:1,type:xe.value,density:"compact",class:"mb-2",variant:"tonal",closable:""},{default:s(()=>[o(n(he.value),1)]),_:1},8,["type"])):d("",!0),me.value&&!ge.value?(r(),c(ce,{key:2,type:"article, actions"})):d("",!0),ge.value?(r(),u("div",y,[t(Ye,null,{default:s(()=>[t(Xe,{cols:"12",md:"6"},{default:s(()=>[t(De,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(oe,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(ne,{icon:"mdi-information",class:"mr-2",color:"primary",size:"small"}),se[15]||(se[15]=i("span",null,"系统状态",-1))]),_:1}),t(qe,{class:"pa-0"},{default:s(()=>[t(Ke,{class:"bg-transparent pa-0"},{default:s(()=>[t(We,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(ne,{color:ve.enabled?"success":"grey",icon:"mdi-power",size:"small"},null,8,["color"])]),append:s(()=>[t($e,{color:ve.enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[o(n(ve.enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[16]||(se[16]=[o("插件状态")])),_:1})]),_:1}),t(Fe,{class:"my-0"}),t(We,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(ne,{color:ve.has_client&&e.initialConfig?.cookies?"success":"error",icon:"mdi-account-check",size:"small"},null,8,["color"])]),append:s(()=>[t($e,{color:ve.has_client&&e.initialConfig?.cookies?"success":"error",size:"x-small",variant:"tonal"},{default:s(()=>[o(n(ve.has_client&&e.initialConfig?.cookies?"已连接":"未连接"),1)]),_:1},8,["color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[17]||(se[17]=[o("115客户端状态")])),_:1})]),_:1}),t(Fe,{class:"my-0"}),t(We,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(ne,{color:ve.running?"warning":"success",icon:"mdi-play-circle",size:"small"},null,8,["color"])]),append:s(()=>[t($e,{color:ve.running?"warning":"success",size:"x-small",variant:"tonal"},{default:s(()=>[o(n(ve.running?"运行中":"空闲"),1)]),_:1},8,["color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[18]||(se[18]=[o("任务状态")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(De,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(oe,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(ne,{icon:"mdi-account-box",class:"mr-2",color:"primary",size:"small"}),se[19]||(se[19]=i("span",null,"115账户信息",-1))]),_:1}),t(qe,{class:"pa-0"},{default:s(()=>[Ce.loading||ke.loading?(r(),c(ce,{key:0,type:"list-item-avatar-three-line, list-item-three-line"})):(r(),u("div",h,[Ce.error||ke.error?(r(),c(re,{key:0,type:"warning",density:"compact",class:"ma-2",variant:"tonal"},{default:s(()=>[o(n(Ce.error||ke.error),1)]),_:1})):(r(),c(Ke,{key:1,class:"bg-transparent pa-0"},{default:s(()=>[t(We,{class:"px-3 py-1"},{prepend:s(()=>[t(Ze,{size:"32",class:"mr-2"},{default:s(()=>[Ce.avatar?(r(),c(Ge,{key:0,src:Ce.avatar,alt:Ce.name},null,8,["src","alt"])):(r(),c(ne,{key:1,icon:"mdi-account-circle"}))]),_:1})]),default:s(()=>[t(de,{class:"text-body-1 font-weight-medium"},{default:s(()=>[o(n(Ce.name||"未知用户"),1)]),_:1})]),_:1}),t(Fe,{class:"my-0"}),t(We,{class:"px-3 py-1"},{prepend:s(()=>[t(ne,{color:Ce.is_vip?"amber-darken-2":"grey",icon:"mdi-shield-crown",size:"small"},null,8,["color"])]),append:s(()=>[t($e,{color:Ce.is_vip?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[o(n(Ce.is_vip?Ce.is_forever_vip?"永久VIP":`VIP (至 ${Ce.vip_expire_date||"N/A"})`:"非VIP"),1)]),_:1},8,["color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[20]||(se[20]=[o("VIP状态")])),_:1})]),_:1}),t(Fe,{class:"my-0"}),t(We,{class:"px-3 py-1"},{default:s(()=>[t(de,{class:"text-body-2 mb-1"},{default:s(()=>se[21]||(se[21]=[o("存储空间")])),_:1}),ke.used&&ke.total?(r(),c(Je,{key:0,class:"text-caption"},{default:s(()=>[o(" 已用 "+n(ke.used)+" / 总共 "+n(ke.total)+" (剩余 "+n(ke.remaining)+") ",1)]),_:1})):d("",!0),ke.used&&ke.total?(r(),c(Qe,{key:1,"model-value":we(ke.used,ke.total),color:"primary",height:"6",rounded:"",class:"mt-1"},null,8,["model-value"])):(r(),c(Je,{key:2,class:"text-caption text-grey"},{default:s(()=>se[22]||(se[22]=[o(" 存储信息不可用 ")])),_:1}))]),_:1})]),_:1}))]))]),_:1})]),_:1}),t(De,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(oe,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(ne,{icon:"mdi-puzzle",class:"mr-2",color:"primary",size:"small"}),se[23]||(se[23]=i("span",null,"功能配置",-1))]),_:1}),t(qe,{class:"pa-0"},{default:s(()=>[t(Ke,{class:"bg-transparent pa-0"},{default:s(()=>[t(We,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(ne,{color:e.initialConfig?.transfer_monitor_enabled?"success":"grey",icon:"mdi-file-move",size:"small"},null,8,["color"])]),append:s(()=>[t($e,{color:e.initialConfig?.transfer_monitor_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[o(n(e.initialConfig?.transfer_monitor_enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[24]||(se[24]=[o("监控MP整理")])),_:1})]),_:1}),t(Fe,{class:"my-0"}),t(We,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(ne,{color:e.initialConfig?.timing_full_sync_strm?"success":"grey",icon:"mdi-sync",size:"small"},null,8,["color"])]),append:s(()=>[t($e,{color:e.initialConfig?.timing_full_sync_strm?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[o(n(e.initialConfig?.timing_full_sync_strm?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[25]||(se[25]=[o("定期全量同步")])),_:1})]),_:1}),t(Fe,{class:"my-0"}),t(We,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(ne,{color:e.initialConfig?.increment_sync_strm_enabled?"success":"grey",icon:"mdi-book-sync",size:"small"},null,8,["color"])]),append:s(()=>[t($e,{color:e.initialConfig?.increment_sync_strm_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[o(n(e.initialConfig?.increment_sync_strm_enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[26]||(se[26]=[o("定期增量同步")])),_:1})]),_:1}),t(Fe,{class:"my-0"}),t(We,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(ne,{color:e.initialConfig?.monitor_life_enabled?"success":"grey",icon:"mdi-calendar-heart",size:"small"},null,8,["color"])]),append:s(()=>[t($e,{color:e.initialConfig?.monitor_life_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[o(n(e.initialConfig?.monitor_life_enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[27]||(se[27]=[o("监控115生活事件")])),_:1})]),_:1}),t(Fe,{class:"my-0"}),t(We,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(ne,{color:e.initialConfig?.pan_transfer_enabled?"success":"grey",icon:"mdi-transfer",size:"small"},null,8,["color"])]),append:s(()=>[t($e,{color:e.initialConfig?.pan_transfer_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[o(n(e.initialConfig?.pan_transfer_enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[28]||(se[28]=[o("网盘整理")])),_:1})]),_:1}),t(Fe,{class:"my-0"}),t(We,{class:"px-3 py-0",style:{"min-height":"34px"}},{prepend:s(()=>[t(ne,{color:e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"success":"grey",icon:"mdi-broom",size:"small"},null,8,["color"])]),append:s(()=>[t($e,{color:e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"success":"grey",size:"x-small",variant:"tonal"},{default:s(()=>[o(n(e.initialConfig?.clear_recyclebin_enabled||e.initialConfig?.clear_receive_path_enabled?"已启用":"已禁用"),1)]),_:1},8,["color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[29]||(se[29]=[o("定期清理")])),_:1})]),_:1}),t(Fe,{class:"my-0"})]),_:1})]),_:1})]),_:1})]),_:1}),t(Xe,{cols:"12",md:"6"},{default:s(()=>[t(De,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(oe,{class:"text-subtitle-2 d-flex align-center px-3 py-1 bg-primary-gradient"},{default:s(()=>[t(ne,{icon:"mdi-folder-search",class:"mr-2",color:"primary",size:"small"}),se[30]||(se[30]=i("span",null,"路径配置",-1))]),_:1}),t(qe,{class:"pa-0"},{default:s(()=>[t(Ke,{class:"bg-transparent pa-0"},{default:s(()=>[e.initialConfig?.transfer_monitor_enabled?(r(),c(We,{key:0,class:"px-3 py-1 mb-1"},{default:s(()=>[t(de,{class:"text-body-2 font-weight-medium"},{default:s(()=>se[31]||(se[31]=[o("监控MP整理路径")])),_:1}),Pe(e.initialConfig?.transfer_monitor_paths)>0?(r(!0),u(f,{key:0},m(Re(e.initialConfig?.transfer_monitor_paths),(e,l)=>(r(),u(f,{key:`transfer-${l}`},[l>0?(r(),c(Fe,{key:0,class:"my-1"})):d("",!0),t(Je,{class:"text-caption pa-0 pt-1"},{default:s(()=>[i("div",x,[t(Ye,{dense:"",align:"center"},{default:s(()=>[t(Xe,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(ne,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>se[32]||(se[32]=[o("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[se[33]||(se[33]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地目录",-1)),i("span",v,n(e.local||"-"),1)],8,b)]),_:2},1024),t(Xe,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(ne,{color:"primary",class:"icon-spin-animation"},{default:s(()=>se[34]||(se[34]=[o("mdi-sync")])),_:1})]),_:1}),t(Xe,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>se[35]||(se[35]=[o("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[se[36]||(se[36]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"网盘目录",-1)),i("span",k,n(e.remote||"-"),1)],8,C)]),_:2},1024)]),_:2},1024)])]),_:2},1024)],64))),128)):(r(),c(Je,{key:1,class:"text-caption text-error mt-1"},{default:s(()=>se[37]||(se[37]=[o("未配置路径")])),_:1}))]),_:1})):d("",!0),e.initialConfig?.transfer_monitor_enabled&&(e.initialConfig?.increment_sync_strm_enabled||e.initialConfig?.timing_full_sync_strm||e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(r(),c(Fe,{key:1,class:"my-0"})):d("",!0),e.initialConfig?.timing_full_sync_strm?(r(),c(We,{key:2,class:"px-3 py-1 mb-1"},{default:s(()=>[t(de,{class:"text-body-2 font-weight-medium"},{default:s(()=>se[38]||(se[38]=[o("全量同步路径")])),_:1}),Pe(e.initialConfig?.full_sync_strm_paths)>0?(r(!0),u(f,{key:0},m(Re(e.initialConfig?.full_sync_strm_paths),(e,l)=>(r(),u(f,{key:`fullsync-${l}`},[l>0?(r(),c(Fe,{key:0,class:"my-1"})):d("",!0),t(Je,{class:"text-caption pa-0 pt-1"},{default:s(()=>[i("div",w,[t(Ye,{dense:"",align:"center"},{default:s(()=>[t(Xe,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(ne,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>se[39]||(se[39]=[o("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[se[40]||(se[40]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地目录",-1)),i("span",P,n(e.local||"-"),1)],8,z)]),_:2},1024),t(Xe,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(ne,{color:"primary",class:"icon-spin-animation"},{default:s(()=>se[41]||(se[41]=[o("mdi-sync")])),_:1})]),_:1}),t(Xe,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>se[42]||(se[42]=[o("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[se[43]||(se[43]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"网盘目录",-1)),i("span",$,n(e.remote||"-"),1)],8,V)]),_:2},1024)]),_:2},1024)])]),_:2},1024)],64))),128)):(r(),c(Je,{key:1,class:"text-caption text-error mt-1"},{default:s(()=>se[44]||(se[44]=[o("未配置路径")])),_:1}))]),_:1})):d("",!0),e.initialConfig?.timing_full_sync_strm&&(e.initialConfig?.increment_sync_strm_enabled||e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(r(),c(Fe,{key:3,class:"my-0"})):d("",!0),e.initialConfig?.increment_sync_strm_enabled?(r(),c(We,{key:4,class:"px-3 py-1 mb-1"},{default:s(()=>[t(de,{class:"text-body-2 font-weight-medium"},{default:s(()=>se[45]||(se[45]=[o("增量同步路径")])),_:1}),Pe(e.initialConfig?.increment_sync_strm_paths)>0?(r(!0),u(f,{key:0},m(Re(e.initialConfig?.increment_sync_strm_paths),(e,l)=>(r(),u(f,{key:`fullsync-${l}`},[l>0?(r(),c(Fe,{key:0,class:"my-1"})):d("",!0),t(Je,{class:"text-caption pa-0 pt-1"},{default:s(()=>[i("div",L,[t(Ye,{dense:"",align:"center"},{default:s(()=>[t(Xe,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(ne,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>se[46]||(se[46]=[o("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[se[47]||(se[47]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地目录",-1)),i("span",M,n(e.local||"-"),1)],8,E)]),_:2},1024),t(Xe,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(ne,{color:"primary",class:"icon-spin-animation"},{default:s(()=>se[48]||(se[48]=[o("mdi-sync")])),_:1})]),_:1}),t(Xe,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>se[49]||(se[49]=[o("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[se[50]||(se[50]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"网盘目录",-1)),i("span",j,n(e.remote||"-"),1)],8,I)]),_:2},1024)]),_:2},1024)])]),_:2},1024)],64))),128)):(r(),c(Je,{key:1,class:"text-caption text-error mt-1"},{default:s(()=>se[51]||(se[51]=[o("未配置路径")])),_:1}))]),_:1})):d("",!0),e.initialConfig?.timing_full_sync_strm&&(e.initialConfig?.monitor_life_enabled||e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(r(),c(Fe,{key:5,class:"my-0"})):d("",!0),e.initialConfig?.monitor_life_enabled?(r(),c(We,{key:6,class:"px-3 py-1 mb-1"},{default:s(()=>[t(de,{class:"text-body-2 font-weight-medium"},{default:s(()=>se[52]||(se[52]=[o("监控115生活事件路径")])),_:1}),Pe(e.initialConfig?.monitor_life_paths)>0?(r(!0),u(f,{key:0},m(Re(e.initialConfig?.monitor_life_paths),(e,l)=>(r(),u(f,{key:`life-${l}`},[l>0?(r(),c(Fe,{key:0,class:"my-1"})):d("",!0),t(Je,{class:"text-caption pa-0 pt-1"},{default:s(()=>[i("div",B,[t(Ye,{dense:"",align:"center"},{default:s(()=>[t(Xe,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(ne,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>se[53]||(se[53]=[o("mdi-folder-home")])),_:1}),i("div",{class:"text-truncate w-100",title:e.local},[se[54]||(se[54]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地目录",-1)),i("span",O,n(e.local||"-"),1)],8,U)]),_:2},1024),t(Xe,{cols:"12",sm:"2",class:"text-center my-1 my-sm-0"},{default:s(()=>[t(ne,{color:"primary",class:"icon-spin-animation"},{default:s(()=>se[55]||(se[55]=[o("mdi-sync")])),_:1})]),_:1}),t(Xe,{cols:"12",sm:"5",class:"d-flex align-center"},{default:s(()=>[t(ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>se[56]||(se[56]=[o("mdi-cloud")])),_:1}),i("div",{class:"text-truncate w-100",title:e.remote},[se[57]||(se[57]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"网盘目录",-1)),i("span",T,n(e.remote||"-"),1)],8,S)]),_:2},1024)]),_:2},1024)])]),_:2},1024)],64))),128)):(r(),c(Je,{key:1,class:"text-caption text-error mt-1"},{default:s(()=>se[58]||(se[58]=[o("未配置路径")])),_:1}))]),_:1})):d("",!0),e.initialConfig?.monitor_life_enabled&&(e.initialConfig?.pan_transfer_enabled||e.initialConfig?.directory_upload_enabled)?(r(),c(Fe,{key:7,class:"my-0"})):d("",!0),e.initialConfig?.pan_transfer_enabled?(r(),c(We,{key:8,class:"px-3 py-1"},{default:s(()=>[t(de,{class:"text-body-2 font-weight-medium"},{default:s(()=>se[59]||(se[59]=[o("网盘整理目录")])),_:1}),Ve(e.initialConfig?.pan_transfer_paths)>0?(r(!0),u(f,{key:0},m(He(e.initialConfig?.pan_transfer_paths),(e,l)=>(r(),u(f,{key:`pan-${l}`},[l>0?(r(),c(Fe,{key:0,class:"my-1"})):d("",!0),t(Je,{class:"text-caption pa-0 pt-1"},{default:s(()=>[i("div",N,[i("div",A,[t(ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>se[60]||(se[60]=[o("mdi-folder-arrow-down")])),_:1}),i("div",{class:"text-truncate w-100",title:e.path},[se[61]||(se[61]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"待整理网盘目录",-1)),i("span",H,n(e.path),1)],8,R)])])]),_:2},1024)],64))),128)):(r(),c(Je,{key:1,class:"text-caption text-error mt-1"},{default:s(()=>se[62]||(se[62]=[o("未配置网盘整理目录")])),_:1}))]),_:1})):d("",!0),e.initialConfig?.pan_transfer_enabled&&e.initialConfig?.directory_upload_enabled?(r(),c(Fe,{key:9,class:"my-0"})):d("",!0),e.initialConfig?.directory_upload_enabled?(r(),c(We,{key:10,class:"px-3 py-1"},{default:s(()=>[t(de,{class:"text-body-2 font-weight-medium"},{default:s(()=>se[63]||(se[63]=[o("目录上传路径")])),_:1}),e.initialConfig?.directory_upload_path&&e.initialConfig.directory_upload_path.length>0?(r(!0),u(f,{key:0},m(e.initialConfig.directory_upload_path,(e,l)=>(r(),u(f,{key:`upload-group-${l}`},[l>0?(r(),c(Fe,{key:0,class:"my-1"})):d("",!0),t(Je,{class:"text-caption pa-0 pt-1"},{default:s(()=>[i("div",W,[t(Ye,{dense:"",align:"center"},{default:s(()=>[t(Xe,{cols:"12",md:"5",class:"d-flex align-center"},{default:s(()=>[t(ne,{size:"small",color:"primary",class:"mr-2 flex-shrink-0"},{default:s(()=>se[64]||(se[64]=[o("mdi-folder-table")])),_:1}),i("div",{class:"text-truncate w-100",title:e.src},[se[65]||(se[65]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地监控",-1)),i("span",K,n(e.src||"-"),1)],8,F)]),_:2},1024),t(Xe,{cols:"12",md:"2",class:"text-center my-1 my-md-0"},{default:s(()=>[t(ne,{color:"primary",class:"icon-spin-animation"},{default:s(()=>se[66]||(se[66]=[o("mdi-sync")])),_:1})]),_:1}),t(Xe,{cols:"12",md:"5",class:"d-flex align-center"},{default:s(()=>[t(ne,{size:"small",color:"success",class:"mr-2 flex-shrink-0"},{default:s(()=>se[67]||(se[67]=[o("mdi-cloud-upload")])),_:1}),i("div",{class:"text-truncate w-100",title:e.dest_remote},[se[68]||(se[68]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"网盘上传",-1)),i("span",D,n(e.dest_remote||"-"),1)],8,q)]),_:2},1024)]),_:2},1024),e.dest_local||"boolean"==typeof e.delete?(r(),u("div",G,[t(Ye,{dense:"",align:"center",class:"mt-1"},{default:s(()=>[t(Xe,{cols:"12",md:"boolean"==typeof e.delete?7:12},{default:s(()=>[e.dest_local?(r(),u("div",Z,[t(ne,{size:"small",color:"warning",class:"mr-2 flex-shrink-0"},{default:s(()=>se[69]||(se[69]=[o("mdi-content-copy")])),_:1}),i("div",{class:"text-truncate w-100",title:e.dest_local},[se[70]||(se[70]=i("span",{class:"text-caption font-weight-medium d-block",style:{"line-height":"1.2"}},"本地复制",-1)),i("span",Q,n(e.dest_local),1)],8,J)])):d("",!0)]),_:2},1032,["md"]),"boolean"==typeof e.delete?(r(),c(Xe,{key:0,cols:"12",md:e.dest_local?5:12,class:p(["d-flex align-center",{"justify-md-end":e.dest_local,"mt-1 mt-md-0":e.dest_local}])},{default:s(()=>[t(ne,{size:"small",color:e.delete?"error":"grey-darken-1",class:"mr-1 flex-shrink-0"},{default:s(()=>[o(n(e.delete?"mdi-delete":"mdi-delete-off"),1)]),_:2},1032,["color"]),i("span",{class:p(["text-caption",e.delete?"text-error":"text-grey-darken-1"])},n(e.delete?"删除源":"不删源"),3)]),_:2},1032,["md","class"])):d("",!0)]),_:2},1024)])):d("",!0)])]),_:2},1024)],64))),128)):(r(),c(Je,{key:1,class:"text-caption text-error mt-1"},{default:s(()=>se[71]||(se[71]=[o("未配置路径")])),_:1}))]),_:1})):d("",!0)]),_:1})]),_:1})]),_:1}),ve.has_client&&e.initialConfig.cookies?ze.value?d("",!0):(r(),c(De,{key:1,flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(qe,{class:"pa-3"},{default:s(()=>[i("div",ee,[t(ne,{icon:"mdi-alert-circle",color:"warning",class:"mr-2",size:"small"}),i("div",le,[se[78]||(se[78]=i("p",{class:"mb-1"},[i("strong",null,"路径配置不完整")],-1)),se[79]||(se[79]=i("p",{class:"mb-0"},"您已配置115 Cookie，但部分功能路径未配置。请前往配置页面完善路径设置。",-1)),t(el,{color:"primary",variant:"text",size:"small",class:"mt-1 px-2 py-0",onClick:se[1]||(se[1]=e=>ue("switch"))},{default:s(()=>[t(ne,{size:"small",class:"mr-1"},{default:s(()=>se[76]||(se[76]=[o("mdi-cog")])),_:1}),se[77]||(se[77]=o("前往配置 "))]),_:1})])])]),_:1})]),_:1})):(r(),c(De,{key:0,flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(qe,{class:"pa-3"},{default:s(()=>[i("div",X,[t(ne,{icon:"mdi-alert-circle",color:"error",class:"mr-2",size:"small"}),i("div",Y,[se[74]||(se[74]=i("p",{class:"mb-1"},[i("strong",null,"未配置115 Cookie或Cookie无效")],-1)),se[75]||(se[75]=i("p",{class:"mb-0"},"请在配置页面中设置有效的115网盘Cookie，可通过扫码登录获取。",-1)),t(el,{color:"primary",variant:"text",size:"small",class:"mt-1 px-2 py-0",onClick:se[0]||(se[0]=e=>ue("switch"))},{default:s(()=>[t(ne,{size:"small",class:"mr-1"},{default:s(()=>se[72]||(se[72]=[o("mdi-cog")])),_:1}),se[73]||(se[73]=o("前往配置 "))]),_:1})])])]),_:1})]),_:1}))]),_:1})]),_:1}),t(De,{flat:"",class:"rounded mb-3 border config-card"},{default:s(()=>[t(qe,{class:"d-flex align-center px-3 py-1"},{default:s(()=>[t(ne,{icon:"mdi-information",color:"info",class:"mr-2",size:"small"}),se[80]||(se[80]=i("span",{class:"text-body-2"},' 点击"配置"按钮进行设置，"全量同步"和"分享同步"按钮可立即执行相应任务。 ',-1))]),_:1})]),_:1})])):d("",!0)]),_:1}),t(Fe),t(ll,{class:"px-2 py-1 sticky-actions d-flex justify-space-between align-center",style:{"flex-shrink":"0"}},{default:s(()=>[t(el,{color:"info",onClick:Le,"prepend-icon":"mdi-refresh",disabled:fe.value,loading:fe.value,variant:"text",size:"small"},{default:s(()=>se[81]||(se[81]=[o("刷新状态")])),_:1},8,["disabled","loading"]),i("div",ae,[t(el,{color:"warning","prepend-icon":"mdi-sync",disabled:!ve.enabled||!ve.has_client||be.value,loading:pe.value,onClick:Ee,variant:"text",size:"small",class:"ml-1"},{default:s(()=>se[82]||(se[82]=[o(" 全量同步 ")])),_:1},8,["disabled","loading"]),t(el,{color:"info","prepend-icon":"mdi-share-variant",disabled:!ve.enabled||!ve.has_client||be.value,loading:_e.value,onClick:Be,variant:"text",size:"small",class:"ml-1"},{default:s(()=>se[83]||(se[83]=[o(" 分享同步 ")])),_:1},8,["disabled","loading"]),t(el,{color:"primary",onClick:se[2]||(se[2]=e=>ue("switch")),"prepend-icon":"mdi-cog",variant:"text",size:"small",class:"ml-1"},{default:s(()=>se[84]||(se[84]=[o("配置")])),_:1}),t(el,{color:"error",onClick:se[3]||(se[3]=e=>ue("close")),variant:"flat",size:"small",class:"ml-1 custom-close-btn","aria-label":"关闭",style:{"min-width":"auto !important",padding:"0 10px !important",height:"28px !important","line-height":"28px !important"}},{default:s(()=>[t(ne,{size:"small"},{default:s(()=>se[85]||(se[85]=[o("mdi-close")])),_:1})]),_:1})])]),_:1})]),_:1})]),t(sl,{modelValue:Me.show,"onUpdate:modelValue":se[11]||(se[11]=e=>Me.show=e),"max-width":"600"},{default:s(()=>[t(De,null,{default:s(()=>[t(oe,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t(ne,{icon:"mdi-share-variant",class:"mr-2",color:"primary",size:"small"}),se[86]||(se[86]=i("span",null,"115网盘分享同步",-1))]),_:1}),t(qe,{class:"px-3 py-2"},{default:s(()=>[Me.error?(r(),c(re,{key:0,type:"error",density:"compact",class:"mb-3",variant:"tonal"},{default:s(()=>[o(n(Me.error),1)]),_:1})):d("",!0),t(Ye,null,{default:s(()=>[t(Xe,{cols:"12"},{default:s(()=>[t(al,{modelValue:Me.shareLink,"onUpdate:modelValue":se[4]||(se[4]=e=>Me.shareLink=e),label:"分享链接",hint:"115网盘分享链接","persistent-hint":"",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(Ye,null,{default:s(()=>[t(Xe,{cols:"12",md:"6"},{default:s(()=>[t(al,{modelValue:Me.shareCode,"onUpdate:modelValue":se[5]||(se[5]=e=>Me.shareCode=e),label:"分享码",hint:"分享码，和分享链接选填一项","persistent-hint":"",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),t(Xe,{cols:"12",md:"6"},{default:s(()=>[t(al,{modelValue:Me.receiveCode,"onUpdate:modelValue":se[6]||(se[6]=e=>Me.receiveCode=e),label:"分享密码",hint:"分享密码，如有则必填","persistent-hint":"",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(Ye,null,{default:s(()=>[t(Xe,{cols:"12",md:"6"},{default:s(()=>[t(al,{modelValue:Me.panPath,"onUpdate:modelValue":se[7]||(se[7]=e=>Me.panPath=e),label:"分享文件夹路径",hint:"分享内容列表中的相对路径，默认为根目录 /。例如，若分享链接指向一个文件夹，此路径为该文件夹内的子路径。","persistent-hint":"",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),t(Xe,{cols:"12",md:"6"},{default:s(()=>[t(al,{modelValue:Me.localPath,"onUpdate:modelValue":se[8]||(se[8]=e=>Me.localPath=e),label:"本地生成STRM路径",hint:"本地生成STRM文件的路径","persistent-hint":"",variant:"outlined",density:"compact","append-icon":"mdi-folder","onClick:append":se[9]||(se[9]=e=>{return l="local",je.show=!0,je.isLocal="local"===l,je.loading=!1,je.error=null,je.items=[],je.isLocal?je.currentPath=Me.localPath||"/":je.currentPath=Me.panPath||"/",je.callback=e=>{je.isLocal?Me.localPath=e:Me.panPath=e},void Oe();var l})},null,8,["modelValue"])]),_:1})]),_:1}),t(Ye,null,{default:s(()=>[t(Xe,{cols:"12"},{default:s(()=>[t(tl,{modelValue:Me.downloadMediaInfo,"onUpdate:modelValue":se[10]||(se[10]=e=>Me.downloadMediaInfo=e),label:"下载媒体数据文件",color:"primary",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1}),t(re,{type:"info",variant:"tonal",density:"compact",class:"mt-1"},{default:s(()=>se[87]||(se[87]=[o(" 分享链接/分享码和分享密码 只需要二选一配置即可。"),i("br",null,null,-1),o(" 同时填写分享链接，分享码和分享密码时，优先读取分享链接。 ")])),_:1})]),_:1}),t(Fe),t(ll,{class:"px-3 py-1"},{default:s(()=>[t(el,{color:"grey",variant:"text",onClick:Ue,size:"small"},{default:s(()=>se[88]||(se[88]=[o("取消")])),_:1}),t(il),t(el,{color:"primary",variant:"text",onClick:Ae,loading:_e.value,disabled:!Ie.value,size:"small"},{default:s(()=>se[89]||(se[89]=[o(" 开始同步 ")])),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(sl,{modelValue:je.show,"onUpdate:modelValue":se[13]||(se[13]=e=>je.show=e),"max-width":"800"},{default:s(()=>[t(De,null,{default:s(()=>[t(oe,{class:"text-subtitle-1 d-flex align-center px-3 py-1 bg-primary-lighten-5"},{default:s(()=>[t(ne,{icon:je.isLocal?"mdi-folder-search":"mdi-folder-network",class:"mr-2",color:"primary"},null,8,["icon"]),i("span",null,n(je.isLocal?"选择本地目录":"选择网盘目录"),1)]),_:1}),t(qe,{class:"px-3 py-2"},{default:s(()=>[je.loading?(r(),u("div",te,[t(nl,{indeterminate:"",color:"primary"})])):(r(),u("div",ie,[t(al,{modelValue:je.currentPath,"onUpdate:modelValue":se[12]||(se[12]=e=>je.currentPath=e),label:"当前路径",variant:"outlined",density:"compact",class:"mb-2",onKeyup:_(Oe,["enter"])},null,8,["modelValue"]),t(Ke,{class:"border rounded","max-height":"300px","overflow-y":"auto"},{default:s(()=>["/"!==je.currentPath&&"C:\\"!==je.currentPath&&"C:/"!==je.currentPath?(r(),c(We,{key:0,onClick:Se,class:"py-0",style:{"min-height":"auto"}},{prepend:s(()=>[t(ne,{icon:"mdi-arrow-up",size:"small",class:"mr-2",color:"grey"})]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>se[90]||(se[90]=[o("上级目录")])),_:1}),t(Je,null,{default:s(()=>se[91]||(se[91]=[o("..")])),_:1})]),_:1})):d("",!0),(r(!0),u(f,null,m(je.items,(e,l)=>(r(),c(We,{key:l,onClick:l=>(e=>{e&&e.is_dir&&e.path&&(je.currentPath=e.path,Oe())})(e),disabled:!e.is_dir,class:"py-0",style:{"min-height":"auto"}},{prepend:s(()=>[t(ne,{icon:e.is_dir?"mdi-folder":"mdi-file",size:"small",class:"mr-2",color:e.is_dir?"success":"blue"},null,8,["icon","color"])]),default:s(()=>[t(de,{class:"text-body-2"},{default:s(()=>[o(n(e.name),1)]),_:2},1024)]),_:2},1032,["onClick","disabled"]))),128)),je.items.length?d("",!0):(r(),c(We,{key:1,class:"py-2 text-center"},{default:s(()=>[t(de,{class:"text-body-2 text-grey"},{default:s(()=>se[92]||(se[92]=[o("该目录为空或访问受限")])),_:1})]),_:1}))]),_:1})])),je.error?(r(),c(re,{key:2,type:"error",density:"compact",class:"mt-2 text-caption",variant:"tonal"},{default:s(()=>[o(n(je.error),1)]),_:1})):d("",!0)]),_:1}),t(ll,{class:"px-3 py-1"},{default:s(()=>[t(il),t(el,{color:"primary",onClick:Te,disabled:!je.currentPath||je.loading,variant:"text",size:"small"},{default:s(()=>se[93]||(se[93]=[o(" 选择当前目录 ")])),_:1},8,["disabled"]),t(el,{color:"grey",onClick:Ne,variant:"text",size:"small"},{default:s(()=>se[94]||(se[94]=[o(" 取消 ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}},[["__scopeId","data-v-f9e14e54"]]);export{de as default};
